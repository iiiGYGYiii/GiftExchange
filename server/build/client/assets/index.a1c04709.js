var $=Object.defineProperty,z=Object.defineProperties;var H=Object.getOwnPropertyDescriptors;var _=Object.getOwnPropertySymbols;var q=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var T=(a,r,t)=>r in a?$(a,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[r]=t,S=(a,r)=>{for(var t in r||(r={}))q.call(r,t)&&T(a,t,r[t]);if(_)for(var t of _(r))B.call(r,t)&&T(a,t,r[t]);return a},F=(a,r)=>z(a,H(r));import{j as L,L as O,r as u,l as j,a as E,S as V,R as A,b as U,c as Z}from"./vendor.863e9c23.js";const J=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))c(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&c(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}};J();const e=L.exports.jsx,n=L.exports.jsxs,x=L.exports.Fragment,Q=()=>e("footer",{children:n("p",{children:["Made with \u2764 by:"," ",e("a",{href:"http://www.instagram.com/iiiGYGYiii",children:"iiiGYGYiii"})]})});const g={lobby:"/lobby",home:"/",createLobby:"/create-lobby",searchLobby:"/search-lobby"},P={lobbyEndpoint:"/api/v1/lobby"},W=()=>e("header",{className:"app-header",children:n("nav",{className:"nav-header-container",children:[e("div",{className:"nav-header home",children:e(O,{to:g.home,children:e("i",{className:"fas fa-home"})})}),e("div",{className:"nav-header add",children:e(O,{to:g.createLobby,children:e("i",{className:"fas fa-plus"})})}),e("div",{className:"nav-header search",children:e(O,{to:g.searchLobby,children:e("i",{className:"fas fa-search"})})})]})});function X({children:a,handleSubmit:r,submitText:t}){return n("form",{onSubmit:r,children:[e("table",{children:e("tbody",{children:a})}),e("input",{type:"submit",value:t})]})}function k({textLabel:a,inputId:r,inputValue:t,handleKey:c,handleChange:i,handleClick:o,textButton:l,disabled:d,required:h}){return n("tr",{children:[e("td",{children:n("label",{htmlFor:r,children:[a,": "]})}),e("td",{children:e("input",{type:"text",value:t,onKeyPress:c,onChange:i,id:r,disabled:d,required:h,minLength:h?3:void 0})}),e("td",{children:e("input",{type:"button",value:d?"Corregir":l,onClick:o})})]})}function C({message:a,error:r}){return e("div",{className:`notification ${r?"error":""}`,children:e("p",{children:a})})}function ee({lobbyId:a,participants:r,lobbyOwner:t}){const[c,i]=u.exports.useState(),[o,l]=u.exports.useState(!1),d=()=>{c&&clearTimeout(c),l(!0);const h=setTimeout(()=>l(!1),2e3);i(h)};return n("div",{className:"display-lobby",children:[o?e(C,{message:"\xA1C\xF3digo copiado al portapapeles!"}):null,n("h1",{className:"lobby-title",children:["SALA:"," ",e("span",{className:"lobby-id",children:e(j.CopyToClipboard,{onCopy:d,text:a,children:n("span",{className:"clipboard",children:[" ",a," ",e("i",{className:"fas fa-clipboard"})]})})})]}),n("h2",{children:["Organizador: ",t]}),n("div",{className:"participants-container",children:[n("h3",{children:["Participantes: (",r.length+1,")"]}),e(M,{participants:r})]})]})}const G=()=>{const[a,r]=u.exports.useState(),[t,c]=u.exports.useState();return[a,o=>{r(o),t&&clearInterval(t);const l=setTimeout(()=>r(void 0),2500);c(l)}]};async function re(a){try{const{data:r}=await E.post(P.lobbyEndpoint,a);return r.error?{error:r.message}:{lobbyId:r.lobbyId}}catch(r){return r instanceof Error?{error:r.message}:{error:"An error has ocurred! Please try again later"}}}async function ae(a){try{const{data:r,status:t}=await E.get(`${P.lobbyEndpoint}/${a}`);return r.error||t!==200?{error:r.message}:{lobbyOwner:r.lobbyOwner}}catch{return{error:"No se encontr\xF3 la sala."}}}async function te(a,r){try{const{data:t}=await E.post(`${P.lobbyEndpoint}/${a}`,{participant:r});return t.matchedParticipant.errorMsg?{error:!0,message:t.matchedParticipant.errorMsg}:t.matchedParticipant}catch{return{error:!0,message:"No se encontr\xF3 el nombre en la sala."}}}function ne({lobbyId:a,lobbyOwner:r}){const[t,c]=u.exports.useState(""),[i,o]=u.exports.useState(!1),[l,d]=u.exports.useState(),[h,f]=G();return n("div",{className:"lobby-container",children:[n("header",{children:[n("h1",{children:["SALA: ",e("span",{children:a})]}),n("h2",{children:["ORGANIZADOR: ",e("span",{children:r})]})]}),i?n("div",{className:"display-matched",children:[e("h2",{children:"El destino te asign\xF3:"}),e("div",{className:"matched-neon",children:l})]}):n("div",{className:"matcher-form",children:[n("form",{onSubmit:async p=>{p.preventDefault();try{const y=await te(a,t);y.error||(o(!0),d(y))}catch{f("No se encontr\xF3 el nombre en la sala.")}},children:[e("input",{placeholder:"Tu nombre aqu\xED",type:"text",onChange:p=>{c(p.target.value)},value:t,required:!0}),e("input",{type:"submit",value:"\xBFA qui\xE9n me asignaron?"})]}),h?e(C,{error:!0,message:h}):null]})]})}function M({participants:a}){return e("div",{className:"participants-display",children:a.map(r=>e("div",{className:"participant",children:r},r))})}function D({title:a,children:r,component:t}){return n("article",{className:"page-container",children:[e("header",{className:"page-title",children:e("h1",{className:"glow-fx neon",children:a})}),e("div",{className:"page-content",children:t||r})]})}function N({title:a,children:r,id:t}){return n("div",{id:t,className:"card",children:[e("div",{className:"card-title",children:e("h1",{children:a})}),e("hr",{}),e("div",{className:"card-content",children:r||null})]})}const b=(a,r)=>`${r?"#":""}carousel_slide${a}`;function ie({children:a,indx:r,lastIndx:t}){return n("li",{id:b(r),tabIndex:0,className:"carousel-slide",children:[a,e("div",{className:"carousel-snapper"}),r===0&&t?e("a",{href:b(t,!0),className:"carousel-prev",children:e("i",{className:"fas fa-chevron-left"})}):e("a",{href:b(r-1,!0),className:"carousel-prev",children:e("i",{className:"fas fa-chevron-left"})}),t&&r!==0?e("a",{href:b(0,!0),className:"carousel-next",children:e("i",{className:"fas fa-chevron-right"})}):e("a",{href:b(r+1,!0),className:"carousel-next",children:e("i",{className:"fas fa-chevron-right"})})]})}function oe({indx:a}){return e("li",{className:"carousel__navigation-item",children:n("a",{href:b(a,!0),className:"carousel__navigation-button",children:["Go to slide ",a]})})}function se({children:a}){const r=a.length;return n("section",{className:"carousel","aria-label":"Home-Gallery",children:[e("ol",{className:"carousel-viewport",children:a.map((t,c)=>e(ie,{indx:c,lastIndx:c===0||c===r-1?r-1:void 0,children:t},`carousel__item${c}`))}),e("aside",{className:"carousel__navigation",children:e("nav",{children:e("ol",{className:"carousel__navigation-list",children:a.map((t,c)=>e(oe,{indx:c},"nav"+b(c,!0)))})})})]})}function ce(){return e("div",{className:"home-container",children:n(se,{children:[e(N,{id:"welcome",title:"\xA1Bienvenido!",children:n("p",{children:["\xA1En ",e("span",{children:"interchanger"})," te damos la soluci\xF3n para organizar los intercambios de regalo!"]})}),e(N,{id:"why",title:"\xBFPor qu\xE9?",children:n(x,{children:[e("p",{children:"Al asignar con qui\xE9n nos toca intercambiar regalo nos podemos encontrar en situaciones inc\xF3modas como:"}),n("ul",{children:[e("li",{children:"Es muy tardado y nadie quiere hacer la t\xF3mbola."}),e("li",{children:"Me toc\xF3 mi nombre, y tenemos que repetir el proceso."}),e("li",{children:"\xA1El ciclo se cierra varias veces!"})]})]})}),e(N,{id:"how-organizer",title:"\xBFC\xF3mo?",children:n(x,{children:[e("h4",{children:"(Como organizador)"}),e("p",{children:"\xA1Tan f\xE1cil como s\xF3lo poner tu nombre (ser\xE1s el organizador del intercambio), a\xF1adir el nombre de los participantes y compartir el c\xF3digo de la sala!"})]})}),e(N,{id:"how-participant",title:"\xBFC\xF3mo?",children:n(x,{children:[e("h4",{children:"(Como participante)"}),e("p",{children:"El organizador te proporcionar\xE1 el c\xF3digo de la sala, solo deber\xE1s ingresarlo y a continuaci\xF3n poner tu nombre."}),n("p",{className:"warning-text",children:[e("span",{id:"warning-word",children:"\xA1Advertencia!"})," S\xF3lo puedes ingresar una vez, as\xED que procura tomarle ScreenShot."]})]})}),e(N,{id:"socials",title:"Acerca de m\xED",children:n(x,{children:[n("p",{children:["\xA1Hola! Soy ",e("span",{children:"iiiGYGYiii"}),"!"]}),e("p",{children:"Puedes encontrarme en las siguientes redes sociales:"}),n("div",{className:"social-medias",children:[e("a",{href:"http://www.facebook.com/iiiGYGYiii",children:e("i",{className:"fab fa-facebook"})}),e("a",{href:"http://www.twitter.com/iiiGYGYiii",children:e("i",{className:"fab fa-twitter"})}),e("a",{href:"http://www.instagram.com/iiiGYGYiii",children:e("i",{className:"fab fa-instagram"})})]})]})})]})})}const le={lobbyOwner:"",participants:[]},Y="",K=a=>a.length>=3,R=(a,r)=>r.includes(a),de=a=>a.length>=3,he=()=>{const[a,r]=u.exports.useState(),[t,c]=u.exports.useState(),[i,o]=u.exports.useState(le),[l,d]=u.exports.useState(Y),[h,f]=u.exports.useState(!1),[w,v]=u.exports.useState(),p=s=>{r(s),t&&clearTimeout(t);const m=setTimeout(()=>r(void 0),5e3);c(m)},y=s=>{if(!K(i.lobbyOwner)){p("Los nombres deben tener m\xEDnimo 3 caracteres."),s.preventDefault();return}if(R(i.lobbyOwner,i.participants)){p(`Los participantes deben tener un nombre \xFAnico. (Trata: ${l}1)`),s.preventDefault();return}f(m=>!m)},I=s=>{if(!K(l)){p("Los nombres deben tener m\xEDnimo 3 caracteres."),s.preventDefault();return}if(R(l,i.participants.concat(i.lobbyOwner))){p(`Los participantes deben tener un nombre \xFAnico. (Trata: ${l}1)`),s.preventDefault();return}o(m=>F(S({},m),{participants:[...m.participants,l]})),d(Y),s.preventDefault()};return{handleOwnerChange:({target:s})=>{o(m=>F(S({},m),{lobbyOwner:s.value}))},handleParticipantChange:({target:s})=>{d(s.value)},handleOwnerKey:s=>{s.key==="Enter"&&y(s)},handleParticipantKey:s=>{s.key==="Enter"&&I(s)},ownerIsSet:h,handleSubmit:async s=>{if(s.preventDefault(),!de(i.participants)){p("\xA1El m\xEDnimo n\xFAmero de participantes es 3(tres)! (2 participantes y 1 organizador)");return}const m=await re(i);v(m.lobbyId)},handleOwnerClick:s=>{s.preventDefault(),y(s)},handleParticipantClick:s=>{s.preventDefault(),I(s)},lobbyOwner:i.lobbyOwner,participant:l,participants:i.participants,error:a,lobbyId:w}};function ue(){const{handleSubmit:a,lobbyOwner:r,handleOwnerKey:t,handleOwnerChange:c,handleOwnerClick:i,participant:o,handleParticipantKey:l,handleParticipantChange:d,handleParticipantClick:h,participants:f,ownerIsSet:w,error:v,lobbyId:p}=he();return p?e(ee,{lobbyOwner:r,lobbyId:p,participants:f}):n("div",{className:"lobby-create-container",children:[v?e(C,{message:v,error:!0}):null,e(X,{submitText:"\xA1Crear Sala!",handleSubmit:a,children:n(x,{children:[e(k,{textLabel:"Organizador",inputId:"lobby-owner",inputValue:r,handleKey:t,handleChange:c,textButton:"\xA1OK!",handleClick:i,disabled:w,required:!0}),e(k,{textLabel:"Participante",inputId:"participant",inputValue:o,handleKey:l,handleChange:d,textButton:"A\xF1adir",handleClick:h})]})}),e(M,{participants:f})]})}function pe(){const[a,r]=u.exports.useState(),[t,c]=u.exports.useState(""),[i,o]=G(),l=async d=>{d.preventDefault();try{const{lobbyOwner:h}=await ae(t);if(h){r(h);return}o("No se encontr\xF3 el lobby. Por favor verifica el c\xF3digo.")}catch{o("No se encontr\xF3 el lobby. Por favor verifica el c\xF3digo.")}};return a?e(ne,{lobbyId:t,lobbyOwner:a}):n("div",{className:"search-lobby",children:[i?e(C,{message:i,error:!0}):null,n("form",{onSubmit:l,children:[e("input",{type:"text",value:t,onChange:d=>c(d.target.value),pattern:"[0-9]+"}),e("button",{children:e("i",{className:"fas fa-search"})})]})]})}function me(){return n("div",{className:"App",children:[e(W,{}),e("main",{children:n(V,{children:[e(A,{path:g.searchLobby,children:e(D,{title:"BUSCAR SALA",children:e(pe,{})})}),e(A,{path:g.createLobby,children:e(D,{title:"CREAR SALA",children:e(ue,{})})}),e(A,{path:g.home,children:e(D,{title:"interchanger io",children:e(ce,{})})})]})}),e(Q,{})]})}U.render(e(Z.StrictMode,{children:e(me,{})}),document.getElementById("root"));
